<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Newstrong‘s blog</title>
    <description>关于Android开发AND探索发现世界的美好</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Mon, 29 Jun 2020 09:44:56 +0800</pubDate>
    <lastBuildDate>Mon, 29 Jun 2020 09:44:56 +0800</lastBuildDate>
    <generator>Jekyll v4.0.0</generator>
    
      <item>
        <title>Objective-C属性(property)的特性(attribute)</title>
        <description>&lt;p&gt;先以一图总结：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200610133818.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Atttributes&lt;/p&gt;

&lt;p&gt;以下：「attribute(s)」，「特性」是指同一事物(都指&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;后面括号内的单词)。&lt;/p&gt;

&lt;p&gt;用Objective-C做过开发的朋友都知道，类里面的属性(可以近似地理解为类的变量)是用&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;关键字定义的，然后&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;后面的括号，会写上若干「特性(attribute)」，后面跟数据类型、属性名称。如：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@property (copy, nonatomic) NSString *name;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;写OC良久，对括号内的这些attributes，还是一知半解、不知其然，亦不知其所以然。用的时候就照葫芦画瓢。&lt;/p&gt;

&lt;p&gt;现在大伙儿慢慢转向苹果的新开发语言Swift，似乎亦不必花太多时间在Objective-C上。&lt;/p&gt;

&lt;p&gt;不过那种一知半解，不明就里的感觉，有点如鲠在喉，不甚舒服，所以花了点时间，research了一番：&lt;/p&gt;

&lt;h2 id=&quot;为什么要有property&quot;&gt;为什么要有@property？&lt;/h2&gt;

&lt;p&gt;要搞清楚「特性」，先搞清楚&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;，为什么要有&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;？&lt;/p&gt;

&lt;p&gt;在2006年的WWDC大会上，苹果发布了Objective-C 2.0，其中就包括&lt;strong&gt;&lt;a href=&quot;https://link.jianshu.com?t=https://en.wikipedia.org/wiki/Objective-C#Properties&quot;&gt;Properties&lt;/a&gt;&lt;/strong&gt;这个新的语法，把原来的实例变量定义成&lt;strong&gt;Properties(属性)&lt;/strong&gt;。这个变化，和以前相比，有什么变化呢？&lt;/p&gt;

&lt;h3 id=&quot;objective-c20之前&quot;&gt;Objective-C2.0之前:&lt;/h3&gt;

&lt;p&gt;没有Properties之前，定义实例变量，是这样的：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;@interface Person : NSObject {
@public
    NSString *name;
@private
    int age;
}
@end

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后在.h文件，声明setter和getter方法(setter和getter统称「accessors/存取器/访问器」)，再在.m文件实现setter和getter，这样就可以封装起来，供其他类访问(取值、赋值)了。&lt;/p&gt;

&lt;p&gt;然而，即使不使用setter和getter，其他类也可以通过&lt;code class=&quot;highlighter-rouge&quot;&gt;-&amp;gt;&lt;/code&gt;来直接访问，如：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt; personA-&amp;gt;name = @&quot;123&quot;;

 NSLog(@&quot;personA-&amp;gt;name:%@&quot;, personA-&amp;gt;name);

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;为什么要getter和setter&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;那么，为什么还要如此麻烦地声明和实现setter和getter呢？主要基于三个原因(参考:&lt;a href=&quot;https://link.jianshu.com?t=https://stackoverflow.com/questions/10425827/please-explain-getter-and-setters-in-objective-c&quot;&gt;Please explain Getter and Setters in Objective C&lt;/a&gt;)：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;可以在getter和setter中添加额外的代码，实现特定的目的。比如赋值前(set)需要实现一些特定的内部计算，或者更新状态，缓存数据等等。&lt;/li&gt;
  &lt;li&gt;KVC和KVO都是基于此实现的。&lt;/li&gt;
  &lt;li&gt;在非ARC时代，可以在在getter和setter中进行内存管理。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;因此，写getter和setter，可算是Objective-C中「约定俗成」的做法了。（Swift有类似的「Computed Properties/计算属性」）&lt;/p&gt;

&lt;p&gt;所以，在没有&lt;strong&gt;Objective-C2.0&lt;/strong&gt;的&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;之前，我们几乎需要为所有的实例变量，手动写getter和setter——听听就觉得很可怕，对不对？&lt;/p&gt;

&lt;h3 id=&quot;objective-c20之后&quot;&gt;Objective-C2.0之后:&lt;/h3&gt;

&lt;p&gt;庆幸的是，程序员都喜欢「偷懒」，所以就有了2006年Objective-C2.0中的新语法：&lt;strong&gt;Properties&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;它帮我们自动生成getter和setter&lt;/strong&gt;(声明方法，并实现方法。当然，这部分代码并不会出现在你的项目中，是隐藏起来的)。&lt;/p&gt;

&lt;p&gt;不过，&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;的写法，也经过数次变迁(新旧写法混在一起，就更让人困惑了)：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;最开始，需要作3件事情：
    &lt;ul&gt;
      &lt;li&gt;在.h文件，我们用&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;声明了属性——这只是帮我们在声明了getter和setter；&lt;/li&gt;
      &lt;li&gt;还需要手动声明实例变量(和Objective-C2.0之前一样)&lt;/li&gt;
      &lt;li&gt;然后在.m文件，还要用&lt;code class=&quot;highlighter-rouge&quot;&gt;@synthesize&lt;/code&gt;自动合成getter和setter的实现。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;后来，不需要为属性声明实例变量了，&lt;code class=&quot;highlighter-rouge&quot;&gt;@synthesize&lt;/code&gt;会默认自动生成一个「下划线+属性名」的实例变量。比如&lt;code class=&quot;highlighter-rouge&quot;&gt;@property (copy, nonatomic) NSString *name;&lt;/code&gt;之后，就可以直接使用&lt;code class=&quot;highlighter-rouge&quot;&gt;_name&lt;/code&gt;这个变量了。&lt;/li&gt;
  &lt;li&gt;再后来(Xcode4.5开始)，&lt;code class=&quot;highlighter-rouge&quot;&gt;@synthesize&lt;/code&gt;也不需要了。一个&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;搞定。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;所以，现在我们写&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;声明属性，其实是做了三件事&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;.h: 声明了getter和setter方法；&lt;/li&gt;
  &lt;li&gt;.h: 声明了实例变量(默认:下划线+属性名)；&lt;/li&gt;
  &lt;li&gt;.m: 实现了getter和setter方法。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这就是&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;为我们所做的事情。&lt;/p&gt;

&lt;p&gt;知道它为我们做了什么，自然也就能回答：「为什么要有&lt;code class=&quot;highlighter-rouge&quot;&gt;@property&lt;/code&gt;？」这个问题了。&lt;/p&gt;

&lt;h2 id=&quot;property后面的括号又是怎么回事&quot;&gt;@property后面的括号又是怎么回事？&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@property (copy, nonatomic) NSString *name;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;这种写法，大家肯定都写过，不过，后面跟着的这个括号又是什么玩意儿呢？&lt;/p&gt;

&lt;p&gt;官方把括号里面的东西，叫做「attribute/特性」。&lt;/p&gt;

&lt;p&gt;先试一下，把括号里的两个单词都删掉，你会发现，还能正常工作。而事实上，以下两种写法，是等价的：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;@property () NSString *name;// 或者@property NSString *name;
@property (atomic, strong, readwrite) NSString *name;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;因为attribute主要有三种类型(实际上最多可以写6个特性，后面详述)，每种类型都有默认值。如果什么都不写，系统就会取用默认值（看看，苹果良苦用心，偷偷帮我们做了那么多事情）。&lt;/p&gt;

&lt;p&gt;如上所述，attributes有三种类型：&lt;/p&gt;

&lt;h3 id=&quot;1atomicity原子性&quot;&gt;1.Atomicity(原子性)&lt;/h3&gt;

&lt;p&gt;比较简单的一句话理解就是：是否给setter和getter加锁(是否保证setter或者getter的每次访问是完整性的)。&lt;/p&gt;

&lt;p&gt;原子性，有atomic和nonatomic两个值可选。默认值是atomic(也就是不写的话，默认是atomic)。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;atomic&lt;/strong&gt;(默认值)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;使用atomic，在一定程度上可以保证线程安全，「atomic的作用只是给getter和setter加了个锁」。也就是说，有线程在访问setter，其他线程只能等待完成后才能访问。&lt;/p&gt;

&lt;p&gt;它能保证：即使多个线程「同时」访问这个变量，atomic会让你得到一个有意义的值(valid value)。但是不能保证你获得的是哪个值（有可能是被其他线程修改过的值，也有可能是没有修改过的值）。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;nonatomic&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;而用nonatomic，则不保证你获得的是有效值，如果像上面所述，读、写两个线程同时访问变量，有可能会给出一个无意义的垃圾值。&lt;/p&gt;

&lt;p&gt;这样对比，atomic就显得比较鸡肋了，因为它并不能完全保证程序层面的线程安全，又有额外的性能耗费(要对getter和setter进行加锁操作，我验证过，在某个小项目中将所有的nonatomic删除，内存占用平均升高1M左右)。&lt;/p&gt;

&lt;p&gt;所以，你会见到，几乎所有情况，我们都用nonatomic。&lt;/p&gt;

&lt;h3 id=&quot;2access存取特性&quot;&gt;2.Access(存取特性)&lt;/h3&gt;

&lt;p&gt;存取特性有&lt;strong&gt;readwrite&lt;/strong&gt;(默认值)和&lt;strong&gt;readonly&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;这个从名字看就很容易理解，定义了这个属性是「只读」，还是「读写」皆可。&lt;/p&gt;

&lt;p&gt;如果是&lt;strong&gt;readwrite&lt;/strong&gt;，就是告诉编译器，同时生成getter和setter。如果是&lt;strong&gt;readonly&lt;/strong&gt;，只生成getter。&lt;/p&gt;

&lt;h3 id=&quot;3storage内存管理特性管理对象的生命周期的&quot;&gt;3.Storage(内存管理特性)(管理对象的生命周期的)&lt;/h3&gt;

&lt;p&gt;最常用到&lt;strong&gt;strong&lt;/strong&gt;、&lt;strong&gt;weak&lt;/strong&gt;、&lt;strong&gt;assign&lt;/strong&gt;、&lt;strong&gt;copy&lt;/strong&gt;4个attributes。（还有一个&lt;strong&gt;retain&lt;/strong&gt;，不怎么用了）&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;strong&lt;/strong&gt; (默认值)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ARC新增的特性。&lt;/p&gt;

&lt;p&gt;表明你需要引用(持有)这个对象(reference to the object)，负责保持这个对象的生命周期。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;注意，基本数据类型(非对象类型,如int, float, BOOL)，默认值并不是strong，strong只能用于对象类型。&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;weak&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ARC新增的特性。&lt;/p&gt;

&lt;p&gt;也会给你一个引用(reference/pointer)，指向对象。但是不会主张所有权(claim ownership)。也不会增加retain count。&lt;/p&gt;

&lt;p&gt;如果对象A被销毁，所有指向对象A的弱引用(weak reference)(用weak修饰的属性)，都会自动设置为nil。&lt;/p&gt;

&lt;p&gt;在delegate patterns中常用weak解决strong reference cycles(以前叫retain cycles)问题。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;copy&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;为了说明&lt;strong&gt;copy&lt;/strong&gt;，我们先举个栗子：&lt;/p&gt;

&lt;p&gt;我在某个类(class1)中声明两个字符串属性，一个用copy，一个不用：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;@property (copy, nonatomic) NSString *nameCopy;

// 或者可以省略strong, 编译器默认取用strong
@property (strong, nonatomic) NSString *nameNonCopy;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;在另一个类中，用一个NSMutableString对这两个属性赋值并打印，再修改这个NSMutableString，再打印，看看会发生什么：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;Class1 *testClass1 = [[Class1 alloc] init];

NSMutableString *nameString = [NSMutableString  stringWithFormat:@&quot;Antony&quot;];

// 用赋值NSMutableString给NSString赋值
testClass1.nameCopy = nameString;
testClass1.nameNonCopy = nameString;

NSLog(@&quot;修改nameString前, nameCopy: %@; nameNonCopy: %@&quot;, testClass1.nameCopy, testClass1.nameNonCopy);

[nameString appendString:@&quot;.Wong&quot;];

NSLog(@&quot;修改nameString后, nameCopy: %@; nameNonCopy: %@&quot;, testClass1.nameCopy, testClass1.nameNonCopy);

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;打印结果是：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;修改nameString前, nameCopy: Antony; nameNonCopy: Antony
修改nameString后, nameCopy: Antony; nameNonCopy: Antony.Wong

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我只是修改了&lt;code class=&quot;highlighter-rouge&quot;&gt;nameString&lt;/code&gt;，为什么&lt;code class=&quot;highlighter-rouge&quot;&gt;testClass1.nameNonCopy&lt;/code&gt;的值没改，它也跟着变了？&lt;/p&gt;

&lt;p&gt;因为&lt;code class=&quot;highlighter-rouge&quot;&gt;strong&lt;/code&gt;特性，对对象进行引用计数加1，只是对指向对象的指针进行引用计数加1，这时候，&lt;code class=&quot;highlighter-rouge&quot;&gt;nameString&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;testClass1.nameNonCopy&lt;/code&gt;指向的其实是同一个对象(同一块内存)，&lt;code class=&quot;highlighter-rouge&quot;&gt;nameString&lt;/code&gt;修改了值，自然影响到&lt;code class=&quot;highlighter-rouge&quot;&gt;testClass1.nameNonCopy&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;而&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;这个特性，会在赋值前，复制一个对象，&lt;code class=&quot;highlighter-rouge&quot;&gt;testClass1.nameCopy&lt;/code&gt;指向了一个新对象，这时候&lt;code class=&quot;highlighter-rouge&quot;&gt;nameString&lt;/code&gt;怎么修改，也不关它啥事了。应用&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;特性，系统应该是在setter中进行了如下操作：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;- (void)setNameCopy:(NSString *)nameCopy {
    _nameCopy = [nameCopy copy];
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;大家了解&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;的作用了吧，是为了防止属性被意外修改的。那什么时候要用到&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;呢？&lt;/p&gt;

&lt;p&gt;所有有mutable(可变)版本的属性类型，如NSString, NSArray, NSDictionary等等——他们都有可变的版本类型:NSMutableString, NSMutableArray, NSMutableDictionary。这些类型在属性赋值时，右边的值有可能是它们的可变版本。这样就会出现属性值被意外改变的可能。所以它们都应该用&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;扩展&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;如果不用&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;，而是在赋值前，调用copy方法，可以达到同样的目的：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;// 这时候也可以确保nameNonCopy不会被意外修改
testClass1.nameNonCopy = [nameString copy];

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;如果用&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;修饰NSMutableString、NSMutableArray会发生什么?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;如果用&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;修饰NSMutableString，在赋值的时候会报如下警告：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Incompatible pointer types assigning to 'NSMutableString *' from 'NSString *'&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;而如果用&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;修饰NSMutableArray，则在调用addObject:时直接crash：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;reason: '-[__NSArray0 addObject:]: unrecognized selector sent to instance 0x1700045c0'&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;如果理解了「&lt;code class=&quot;highlighter-rouge&quot;&gt;copy&lt;/code&gt;特性，就是在setter中，进行了copy操作」，就很容易知道以上报错的原因：属性在赋值时，调用setter，已经将原本mutable的对象，copy成了immutable的对象(NSMutableString变成NSString，NSMutableArray变成NSArray)。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;assign&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;是非ARC时代的特性，&lt;/p&gt;

&lt;p&gt;它的作用和&lt;strong&gt;weak&lt;/strong&gt;类似，唯一区别是：如果对象A被销毁，所有指向这个对象A的&lt;strong&gt;assign&lt;/strong&gt;属性并不会自动设置为nil。这时候这些属性就变成野指针，再访问这些属性，程序就会crash。&lt;/p&gt;

&lt;p&gt;因此，在ARC下，&lt;strong&gt;assign&lt;/strong&gt;就变成用于修饰基本数据类型(Primitive Type)，也就是非对象/非指针数据类型，如：int、BOOL、float等。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;注意，在非ARC时代，还没有strong的时候。assign是默认值。ARC下，默认值变成strong了。这个要注意一下，否则会引起困扰。&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;retain&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;retain&lt;/strong&gt;是以前非ARC时代的特性，在ARC下并不常用。&lt;/p&gt;

&lt;p&gt;它是&lt;strong&gt;strong&lt;/strong&gt;的同义词，两者功能一致。不知道为什么还保留着，这对新手也会造成一定困扰。&lt;/p&gt;

&lt;p&gt;所以，总结一下。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;几乎所有情况，都写上&lt;strong&gt;nonatomic&lt;/strong&gt;；&lt;/li&gt;
  &lt;li&gt;对外「只读」的，写上&lt;strong&gt;readonly&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;一般的对象属性，写上&lt;strong&gt;strong&lt;/strong&gt;（用&lt;strong&gt;retain&lt;/strong&gt;也可以，比较少用）&lt;/li&gt;
  &lt;li&gt;需要解决strong reference cycles问题的对象属性，strong改为&lt;strong&gt;weak&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;有mutable(可变)版本的对象属性，strong改为&lt;strong&gt;copy&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;基本数据类型(int, float, BOOL)(非对象属性)，用&lt;strong&gt;assign&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;4扩展&quot;&gt;4.扩展&lt;/h3&gt;

&lt;p&gt;其实，除了上面3种经常用到的特性类型，还有2种不太见到。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;getter=&lt;/strong&gt; 和 &lt;strong&gt;setter=&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;按字面意思，很容易理解，就是重命名getter和setter方法。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://link.jianshu.com?t=https://developer.apple.com/library/content/releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html&quot;&gt;Transitioning to ARC Release Notes&lt;/a&gt;中写道：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You cannot give an accessor a name that begins with new. This in turn means that you can’t, for example, declare a property whose name begins with new unless you specify a different getter&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;存取方法不能以&lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt;开头，如果你要以&lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt;开头命名一个属性：&lt;code class=&quot;highlighter-rouge&quot;&gt;@property (copy, nonatomic) NSString *newName;&lt;/code&gt;于是会默认生成一个new开头的getter方法：&lt;/p&gt;

&lt;p&gt;这时候就会报错：&lt;code class=&quot;highlighter-rouge&quot;&gt;Property follows Cocoa naming convention for returning 'owned' objects&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;解决办法，就是用&lt;strong&gt;getter=&lt;/strong&gt;重命名getter方法：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@property (copy, nonatomic, getter=theNewName) NSString *newName;&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Nullability&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;nullable&lt;/strong&gt;：对象「可为空」&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;nonnull&lt;/strong&gt;：对象「不可为空」&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;null_unspecified&lt;/strong&gt;：「未指定」&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;null_resettable&lt;/strong&gt;：稍有点难理解，就是调用setter去reset属性时，可以传入nil，但是getter返回值，不为空。UIView下面的tintColor，就是null_resettable。这样就保证，即使赋值为nil，也会返回一个非空的值。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;为了更好地和Swift混编(配合Swift的optional类型)，在Xcode 6.3，Objective-C新增了一个语言特性，nullability。具体就是以上4个新特性。&lt;/p&gt;

&lt;p&gt;如果设置为&lt;code class=&quot;highlighter-rouge&quot;&gt;null_resettable&lt;/code&gt;，则要重写setter或getter其中之一，自己做判断，确保真正返回的值不是nil。否则报警告：&lt;code class=&quot;highlighter-rouge&quot;&gt;Synthesized setter 'setName:' for null_resettable property 'name' does not handle nil&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Nullability的写法如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;@property (copy, nullable) NSString *name;
@property (copy, readonly, nonnull) NSArray *allItems;

// 也可以将nullable, nonnull, null_unspecified, null_resettable三个修饰语前面加双下划线，用于修饰指针、参数、返回值等(null_resettable只能在属性括号中使用)
@property (copy, readonly) NSArray * __nonnull allItems;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Nullability的默认值：&lt;code class=&quot;highlighter-rouge&quot;&gt;null_unspecified&lt;/code&gt;——未指定。如果某个属性填写了Nullability特性(比如写了nonnull)，没有填写Nullability的属性，会出现如下警告：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;但是如果每个属性都一一写上，稍嫌麻烦。而因为大多数属性是&lt;code class=&quot;highlighter-rouge&quot;&gt;nonnull&lt;/code&gt;的，所以苹果定义了两个宏，&lt;code class=&quot;highlighter-rouge&quot;&gt;NS_ASSUME_NONNULL_BEGIN&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;NS_ASSUME_NONNULL_END&lt;/code&gt;(两个宏之间，叫做&lt;strong&gt;Audited Regions&lt;/strong&gt;)。&lt;/p&gt;

&lt;p&gt;将所有属性包在这两个宏中，就无需写&lt;strong&gt;nonnull&lt;/strong&gt;修饰语了，只需要在「可为空」的属性里，写上&lt;strong&gt;nullable&lt;/strong&gt;即可：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;NS_ASSUME_NONNULL_BEGIN
@interface AAPLList : NSObject &amp;lt;NSCoding, NSCopying&amp;gt;
// 只需要为「不可为空」的参数、属性、返回值加上修饰语nullable即可
- (nullable AAPLListItem *)itemWithName:(NSString *)name;
- (NSInteger)indexOfItem:(AAPLListItem *)item;

@property (copy, nullable) NSString *name;
@property (copy, readonly) NSArray *allItems;
// ...
@end
NS_ASSUME_NONNULL_END

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;所以！综上所述，attribute最多可以写6个进去：1.原子性、2.存取特性、3.内存管理特性、4.重命名getter、5.重命名setter，6.nullability：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@property (nonatomic, readonly, copy, getter=theNewTitle, setter=setTheNewTitle:, nullable) NSString *newTitle;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;不过，应该没有谁闲得蛋疼会这样写的。&lt;/p&gt;

&lt;p&gt;最短的写法就是什么都不写，连括号都可以不要：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@property BOOL isOpen;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;毕。&lt;/p&gt;

&lt;p&gt;作者：AntonyWong&lt;br /&gt;
链接：https://www.jianshu.com/p/035977d1ba89&lt;br /&gt;
来源：简书&lt;br /&gt;
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。&lt;/p&gt;
</description>
        <pubDate>Thu, 04 Jun 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/06/04/Objective-C%E5%B1%9E%E6%80%A7(property)%E7%9A%84%E7%89%B9%E6%80%A7(attribute)/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/04/Objective-C%E5%B1%9E%E6%80%A7(property)%E7%9A%84%E7%89%B9%E6%80%A7(attribute)/</guid>
        
        <category>Object-c</category>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>Jekins build xcode with Parallels virtual machine</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;本文仅是思路，没有验证或成功案例&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://kb.parallels.com/123455&quot;&gt;How to change serial number of my virtual machine&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://hackintosher.com/forums/thread/generate-your-own-hackintosh-serial-number-board-serial-number-uuid-mlb-rom-in-clover.306/&quot;&gt;Generate your own Hackintosh Serial Number, Board Serial Number, UUID, MLB, ROM in Clover&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/Parallels/jenkins-parallels&quot;&gt;A Jenkins plugin to run builds in Parallels Desktop&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jenkinsci/xcode-plugin&quot;&gt;Xcode integration for mobile/iOS developments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Thu, 04 Jun 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/06/04/Jekins-build-xcode-with-Parallels-virtual-machine/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/04/Jekins-build-xcode-with-Parallels-virtual-machine/</guid>
        
        <category>Jekins</category>
        
        <category>Xcode</category>
        
        <category>Parallels</category>
        
        
      </item>
    
      <item>
        <title>ITMS-90809: Deprecated API Usage</title>
        <description>&lt;h1 id=&quot;解决itms-90809-deprecated-api-usage-uiwebview-审核不通过&quot;&gt;解决ITMS-90809: Deprecated API Usage UiWebView 审核不通过&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;苹果审核时提示ITMS-90809: Deprecated API Usage - Apple will stop accepting submissions of new apps that use UIWebView APIs starting from April 2020. See https://developer.apple.com/documentation/uikit/uiwebview for more information.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;解决方案：查找代码中哪些代码或者二进制库使用了UiWebView，然后进行修改或者版本升级&lt;/p&gt;

&lt;h2 id=&quot;方法一&quot;&gt;方法一：&lt;/h2&gt;

&lt;p&gt;切换到项目根目录&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; UiWebView &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;方法二&quot;&gt;方法二：&lt;/h2&gt;

&lt;p&gt;切换到项目根目录&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;find &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;.a&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;.framework&quot;&lt;/span&gt; | xargs &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; UIWebView
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;方法二输出如下&quot;&gt;方法二输出如下：&lt;/h3&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;find &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;.a&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;.framework&quot;&lt;/span&gt; | xargs &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; UIWebView                                                        2 ↵
Binary file ./Pods/Crashlytics/iOS/Crashlytics.framework/Crashlytics matches
Binary file ./Pods/IronSourceVungleAdapter/ISVungleAdapter/ISVungleAdapter.framework/ISVungleAdapter matches
Binary file ./Pods/IronSourceAdColonyAdapter/ISAdColonyAdapter/ISAdColonyAdapter.framework/ISAdColonyAdapter matches
Binary file ./Pods/IronSourceTapjoyAdapter/ISTapjoyAdapter/ISTapjoyAdapter.framework/ISTapjoyAdapter matches
Binary file ./Pods/Fabric/upload-symbols matches
Binary file ./Pods/IronSourceSDK/IronSource/IronSource.framework/Versions/A/IronSource matches
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;理论上上述两种方法都能在代码中找到对应使用了uiwebview的库但是第一种方法以前可以使用最近好像不好使了在此记录下&quot;&gt;理论上上述两种方法都能在代码中找到对应使用了UiWebView的库，但是第一种方法，以前可以使用，最近好像不好使了。在此记录下。&lt;/h2&gt;

</description>
        <pubDate>Fri, 22 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/22/ITMS-90809-Deprecated-API-Usage/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/22/ITMS-90809-Deprecated-API-Usage/</guid>
        
        <category>iOS</category>
        
        <category>Deprecated API Usage</category>
        
        
      </item>
    
      <item>
        <title>驾校迷惑行为图鉴</title>
        <description>&lt;iframe src=&quot;https://video.h5.weibo.cn/1034:4506300806004775/4506310483141226&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; width=&quot;640&quot; height=&quot;420&quot;&gt;&lt;/iframe&gt;
</description>
        <pubDate>Thu, 21 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/21/%E9%A9%BE%E6%A0%A1%E8%BF%B7%E6%83%91%E8%A1%8C%E4%B8%BA%E5%9B%BE%E9%89%B4/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/21/%E9%A9%BE%E6%A0%A1%E8%BF%B7%E6%83%91%E8%A1%8C%E4%B8%BA%E5%9B%BE%E9%89%B4/</guid>
        
        <category>Funny</category>
        
        <category>搞笑</category>
        
        
      </item>
    
      <item>
        <title>Android studio 是从哪里得到库的？</title>
        <description>&lt;h2 id=&quot;android-studio-是从哪里得到库的&quot;&gt;Android studio 是从哪里得到库的？&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATcAAACiCAMAAAATIHpEAAAAulBMVEX///893IQAAAAu2n658M6+vr6CgoJFRUW0tLQr2nwz24DOzs4n2ns63IL9/f1WVlaSkpKGiYdVXFjv7+/5/vul7MEMDAzE8dXs+vGc67zK9Np55abO89zh4eE0NDRxc3LX2NdpbGqZm5oXFxcjIiJa4ZUT2XXj+eyQ57RL3ouv7chm4prv+/Rs4J1+5KhT34/a9+ah6r4tMy8THBdLTkylp6Y5OTm3uLdgYmFvbm/o6ekfIB8qKyuipKP1oSgkAAAEjklEQVR4nO3a6VbqOgAF4JIwtU0qXMooUBAFCueo98h0Ofj+r3WTlEpBgeJiELK/P9KSrBX2SpqhGgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANyAysA9oHS5fLKGXJkndh+/cL3b7Z2uKVelT1k9dmGf80N65y1zLe7HLTswzeQp23JVRBiDeCVdyl9O25ar4nMr3uATQ/r1xG25JnVG+3HK9Zh1wBSigXuLxZklh9z8dfK2XJMK479XV06lnixWhWKy1osM4Bqj1fO37UerUlZTH9xa9Ykzky6ZzPSfk8u+6PPEBZv4M6m1iJMcMtPiiTXcoszvi+iKlGGvsKls0mrfpBuZfWRH2bBM+fDSrfyBnrhlfR1aGF3CxA5rk/u8M7RldC9YvK0r0xixieDY86Vb+pM49yxOahLl6HKhik/jxia7XMyt7M2rb5tEt2CxtmQ3r8YOiy2RMLFHlVv6A1MTKIJ77R4em+hxuk+rFfPQQRpgxUu3/LL878Umgov/RuIG9Q9YgKzjVOO3M9E5gTNrz5il1IzErPPBb2IVlPW75/aGu4Kzkq47MFfX+p4pVVfdZ/mWKrE9OFPFNIhU0fUM81ek89Bg8/Tv9ucdVwXcaB1N59R+5AiEBi+T9+bmRHJLUOeSzb8UN7pR4E/q3suOcarOQZLRYKmWO/ziWt+iz67h3u9YlnB5gFReO6XT8wm3MQdY1N99dslF/zTXb+m4+H39tJ/fu3XgmyUsDbep/VgH43tYl/4V57e/e8Wg30CtfOPY7TNLu6Pf5Ld39FHL5YtGjvJ4ExPspX/Hue3cwscX67+/bslRpoVwt68Pt0uPoqvZVssdJI8Db+8BAADg6P68pb68nyKZ1cXsLXem5lwLh5Cvc8sQYn9c3JH0uRp0JbbmliWd1Wss5LZpa25G9OUfctu0PbcoHXNrpJuZnPHuTQ0j56Xm3mI0Dr6w24tZ1ijJ3Dxv3vJm4t48P1q0VZC2lw5qTzIPOuaWJdIiI3/5hNypqzv5hRd87MjcCMmLz4YxVvfIyFH1jPBGM6Ndbi3xq6f2g/jxeTVH/p3abTU0xa1Zyk4TEuRGSnlPrD1IZpoS9/6RuZVEpxO1U6q2brmNSFP+aYW5FcRFk/wnn2ue/OJ9mZuaPDtBT5zKJYjKbUQm8oatXW4fj/1ZkFtbfs6L/mQHEcrIVG7v4mODkIa6NxExydwKYW3tnm/zMIqHIDe17M+J3FR3kjJBbnKNa6tHmpAmM1VA1J4bQQ3NciuEq35vIzfxKAsWaH9XubXCmO7EGF72t7C2ZrkZCyKXF3K8rucmIlHLEZuscjNUIdVJs0GHfAwGdkG755tcTqQLTqO5mZshZtWx46RINDcxceYKjv1GOsv5dKxqt5r65SbzkR4jucl5wXAe1f1SKZKbmD0CjXD9Ngtra5ebMe6IVVkrLSNrB7m9q7HryLXbrDCRuXXCs4/sH7lWkzOtTR5VWVF70kgHA1gzhcK2L774x91PhbfWBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4v/8BcudDbrAmQyMAAAAASUVORK5CYII=&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Android Studio是从build.gradle里面定义的Maven 仓库服务器上下载library的。Apache Maven是Apache开发的一个工具，提供了用于贡献library的文件服务器。总的来说，只有两个标准的Android library文件服务器：jcenter 和 Maven Central。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;jcenter jcenter是一个由 bintray.com维护的Maven仓库 。你可以在&lt;a href=&quot;http://jcenter.bintray.com/&quot;&gt;这里&lt;/a&gt;看到整个仓库的内容。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我们在项目的build.gradle 文件中如下定义仓库，就能使用jcenter了：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;allprojects {
    repositories {
        jcenter()
    }
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Maven Central Maven Central 则是由sonatype.org维护的Maven仓库。你可以在这里看到整个仓库。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;注：不管是jcenter还是Maven Central ，两者都是Maven仓库&lt;/p&gt;

&lt;p&gt;我们在项目的build.gradle 文件中如下定义仓库，就能使用Maven Central了：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;allprojects {
    repositories {
        mavenCentral()
    }
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;注意，虽然jcenter和Maven Central 都是标准的 android library仓库，但是它们维护在完全不同的服务器上，由不同的人提供内容，两者之间毫无关系。在jcenter上有的可能 Maven Central 上没有，反之亦然。&lt;/p&gt;

&lt;p&gt;除了两个标准的服务器之外，如果我们使用的library的作者是把该library放在自己的服务器上，我们还可以自己定义特有的Maven仓库服务器。Twitter的Fabric.io 就是这种情况，它们在https://maven.fabric.io/public 上维护了一个自己的Maven仓库。如果你想使用Fabric.io的library，你必须自己如下定义仓库的url。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;repositories {
    maven { url 'https://maven.fabric.io/public' }
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后在里面使用相同的方法获取一个library。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;dependencies {
    compile 'com.crashlytics.sdk.android:crashlytics:2.2.4@aar'
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;但是将library上传到标准的服务器与自建服务器，哪种方法更好呢？当然是前者。如果将我们的library公开，其他开发者除了一行定义依赖名的代码之外不需要定义任何东西。因此这篇文章中，我们将只关注对开发者更友好的jcenter 和 Maven Central 。&lt;/p&gt;

&lt;p&gt;实际上可以在Android Studio上使用的除了Maven 仓库之外还有另外一种仓库：Ivy 仓库&lt;/p&gt;

&lt;h2 id=&quot;理解jcenter和maven-central&quot;&gt;理解jcenter和Maven Central&lt;/h2&gt;

&lt;p&gt;为何有两个标准的仓库？&lt;/p&gt;

&lt;p&gt;事实上两个仓库都具有相同的使命：提供Java或者Android library服务。上传到哪个（或者都上传）取决于开发者。&lt;/p&gt;

&lt;p&gt;起初，Android Studio 选择Maven Central作为默认仓库。如果你使用老版本的Android Studio创建一个新项目，mavenCentral()会自动的定义在build.gradle中。&lt;/p&gt;

&lt;p&gt;但是Maven Central的最大问题是对开发者不够友好。上传library异常困难。上传上去的开发者都是某种程度的极客。同时还因为诸如安全方面的其他原因，Android Studio团队决定把默认的仓库替换成jcenter。正如你看到的，一旦使用最新版本的Android Studio创建一个项目，jcenter()自动被定义，而不是mavenCentral()。&lt;/p&gt;

&lt;p&gt;有许多将Maven Central替换成jcenter的理由，下面是几个主要的原因。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;jcenter通过CDN发送library，开发者可以享受到更快的下载体验。&lt;/li&gt;
  &lt;li&gt;jcenter是全世界最大的Java仓库，因此在Maven Central 上有的，在jcenter上也极有可能有。换句话说jcenter是Maven Central的超集。&lt;/li&gt;
  &lt;li&gt;上传library到仓库很简单，不需要像在 Maven Central上做很多复杂的事情&lt;/li&gt;
  &lt;li&gt;友好的用户界面&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;gradle是如何从仓库上获取一个library的&quot;&gt;gradle是如何从仓库上获取一个library的？&lt;/h2&gt;

&lt;p&gt;我们在 build.gradle输入如下代码的时候，这些库是如果奇迹般下载到我们的项目中的。 &lt;code class=&quot;highlighter-rouge&quot;&gt;compile 'com.inthecheesefactory.thecheeselibrary:fb-like:0.9.3' &lt;/code&gt;一般来说，我们需要知道library的字符串形式，包含3部分: &lt;code class=&quot;highlighter-rouge&quot;&gt;GROUP_ID:ARTIFACT_ID:VERSION&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;上面的例子中，GROUP_ID是com.inthecheesefactory.thecheeselibrary ，ARTIFACT_ID是fb-like，VERSION是0.9.3。&lt;/p&gt;

&lt;p&gt;GROUP_ID定义了library的group。有可能在同样的上下文中存在多个不同功能的library。如果library具有相同的group，那么它们将共享一个GROUP_ID。通常我们以开发者包名紧跟着library的group名称来命名，比如com.squareup.picasso。然后ARTIFACT_ID中是library的真实名称。至于VERSION，就是版本号而已，虽然可以是任意文字，但是我建议设置为x.y.z的形式，如果喜欢还可以加上beta这样的后缀。&lt;/p&gt;

&lt;p&gt;下面是Square library的一个例子。你可以看到每个都可以很容易的分辨出library和开发者的名称。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;dependencies {
  compile 'com.squareup:otto:1.3.7'
  compile 'com.squareup.picasso:picasso:2.5.2'
  compile 'com.squareup.okhttp:okhttp:2.4.0'
  compile 'com.squareup.retrofit:retrofit:1.9.0'
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;那么在添加了上面的依赖之后会发生什么呢？简单。Gradle会询问Maven仓库服务器这个library是否存在，如果是，gradle会获得请求library的路径，一般这个路径都是这样的形式：GROUP_ID/ARTIFACT_ID/VERSION_ID。比如可以在http://jcenter.bintray.com/com/squareup/otto/1.3.7 和 https://oss.sonatype.org/content/repositories/releases/com/squareup/otto/1.3.7/&lt;/p&gt;

&lt;p&gt;下获得com.squareup:otto:1.3.7的library文件。&lt;/p&gt;

&lt;p&gt;然后Android Studio 将下载这些文件到我们的电脑上，与我们的项目一起编译。整个过程就是这么简单，一点都不复杂。&lt;/p&gt;

&lt;p&gt;我相信你应该清楚的知道从仓库上下载的library只是存储在仓库服务器上的jar 或者aar文件而已。有点类似于自己去下载这些文件，拷贝然后和项目一起编译。但是使用gradle依赖管理的最大好处是你除了添加几行文字之外啥也不做。library一下子就可以在项目中使用了。&lt;/p&gt;

&lt;h2 id=&quot;了解aar文件&quot;&gt;了解aar文件&lt;/h2&gt;

&lt;p&gt;我刚才说了仓库中存储的有两种类型的library：jar 和 aar。jar文件大家都知道，但是什么是aar文件呢？&lt;/p&gt;

&lt;p&gt;aar文件时在jar文件之上开发的。之所以有它是因为有些Android Library需要植入一些安卓特有的文件，比如AndroidManifest.xml，资源文件，Assets或者JNI。这些都不是jar文件的标准。&lt;/p&gt;

&lt;p&gt;因此aar文件就时发明出来包含所有这些东西的。总的来说它和jar一样只是普通的zip文件，不过具有不同的文件结构。jar文件以classes.jar的名字被嵌入到aar文件中。其余的文件罗列如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;/AndroidManifest.xml (mandatory)
/classes.jar (mandatory)
/res/ (mandatory)
/R.txt (mandatory)
/assets/ (optional)
/libs/*.jar (optional) /jni//*.so (optional) /proguard.txt (optional) /lint.jar (optional)
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;可以看到.aar文件是专门为安卓设计的。因此这篇文章将教你如何创建与上传一个aar形式的library。&lt;/p&gt;

&lt;h2 id=&quot;buildgradle与gradle-warpper-的区别和联系&quot;&gt;build.gradle与gradle-warpper 的区别和联系&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20160518093304476&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;如图中圈出位置所示，这俩个文件在项目中的位置。&lt;/p&gt;

&lt;p&gt;build.gradle 文件制定编译时的一些条件和依赖关系。 gradle-warpper.properties主要用来制定当前使用的gradle版本从哪里获取。以及一些其他的参数。&lt;/p&gt;

&lt;p&gt;下面来分析一下这俩文件中的内容：&lt;/p&gt;

&lt;p&gt;build.gradle 这个文件的内容并不是固定的，根据项目的需要会有不同的设置。这里给出一般情况下的内容： 这是Module的gradle文件&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;//这里指明这是一个android工程，也可以填com.android.library
//指明这是一个类库
apply plugin: 'com.android.application'
android {
//使用的编译版本SDK21
    compileSdkVersion 21
    //buildtool版本 指定为21.1.1
    buildToolsVersion 21.1.1
    defaultConfig {
    //最小SDK17
        minSdkVersion 17
        //目标版本19
        targetSdkVersion 19
    }
    // 打包签名
    signingConfigs {
    //指定debug模式下使用的签名文件
        debug { storeFile file(&quot;debug.keystore&quot;) }

        release {
        //发布正式版本模式下的使用的签名文件
            storeFile file('release.keystore')
            storePassword 'thisiskeystorepassword'
            keyAlias 'nim_demo'
            keyPassword 'thisiskeypassword'
        }
    }
//编译时脚本运行环境
    buildTypes {
        debug {
            signingConfig signingConfigs.debug
            manifestPlaceholders = [AMAP_KEY: &quot;09fd4efd3e28e9bf1f449ecec7d34bfe&quot;]
        }
//正式版本要混淆
        release {
            minifyEnabled true
            zipAlignEnabled true
            proguardFile('proguard.cfg')
            signingConfig signingConfigs.release
            manifestPlaceholders = [AMAP_KEY: &quot;ee20324fba1c7f4ad7a4a207e7f08e8d&quot;]
        }
    }
    sourceSets {

        main {
        //指定文件映射关系
            manifest.srcFile 'AndroidManifest.xml'
            java.srcDirs = ['src']
            resources.srcDirs = ['src']
            aidl.srcDirs = ['src']
            renderscript.srcDirs = ['src']
            res.srcDirs = ['res', 'res-avchat', 'res-chatroom']
            assets.srcDirs = ['assets']
            jniLibs.srcDirs = ['libs', 'libs-sdk']

        }

    }
    //防止lint时报错
lintOptions {
        abortOnError false
    }
    packagingOptions {
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE.txt'
    }

}
//添加依赖jar,库工程
dependencies {
//依赖文件夹下的所有文件
    compile fileTree(dir: 'libs', exclude: ['android-support-*.jar'], include: '*.jar')

    compile project(path: ':uikit')
    compile 'com.android.support:appcompat-v7:21.0.3'
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;一个根目录下的gradle文件，这个文件的设置对project下的所有module都是有效的&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;buildscript {
//指定要使用的gradle版本
    dependencies {
        classpath 'com.android.tools.build:gradle:2.0.0'

        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
   // apply from: 'script.gradle', to: buildscript
}
//指定远程仓库，建议使用jcenter
allprojects {
    repositories {
        jcenter()
    }
}

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;一个gradle-wrapper。properties文件。只要设置gradle的缓存地址和下载地址。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;#Wed May 18 07:57:25 CST 2016
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
#指定gradle的下载地址
distributionUrl=https\://services.gradle.org/distributions/gradle-2.10-all.zip
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Tue, 19 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/19/Android-studio-%E6%98%AF%E4%BB%8E%E5%93%AA%E9%87%8C%E5%BE%97%E5%88%B0%E5%BA%93%E7%9A%84/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/19/Android-studio-%E6%98%AF%E4%BB%8E%E5%93%AA%E9%87%8C%E5%BE%97%E5%88%B0%E5%BA%93%E7%9A%84/</guid>
        
        <category>Android</category>
        
        <category>Gradle</category>
        
        
      </item>
    
      <item>
        <title>提升团队开发效率 - Nexus Repository</title>
        <description>&lt;h1 id=&quot;提升团队开发效率---nexus-repository&quot;&gt;提升团队开发效率 - Nexus Repository&lt;/h1&gt;

&lt;p&gt;原文链接：&lt;a href=&quot;https://blog.51cto.com/14579491/2451530&quot;&gt;https://blog.51cto.com/14579491/2451530&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;关于提升团队开发效率有很多可以讲，这里讨论一个比较简单易行并且”效果明显”的方法。
在有些公司，如果对访问外网做了限制的话，可能需要走统一的代理才能访问外网。并且管理更&amp;gt; &amp;gt; 加严格的可能还会对访问的外部资源签发自签名的证书，这样会导致几个问题&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;每个人需要在工作电脑上配置代理&lt;/li&gt;
    &lt;li&gt;不同的软件/平台配置代理的方式并不统一&lt;/li&gt;
    &lt;li&gt;访问速度较慢&lt;/li&gt;
    &lt;li&gt;可能需要把自签名的证书import到对应的trust store中，并且可能要定期或不定期更新&lt;/li&gt;
    &lt;li&gt;以上这些问题可能会影响到多种角色的人，无论是开发，测试，甚至运维。(只要和打包扯上关系的，或多或少都有影响)。假如1个人要花30分钟处理以上问题，那么10个人就要5个小时，总体算下来时间还是很可观的，非常影响整体的效率。(如果是个人开发者，可能意义就不大了)有什么解决的方法没有?或许Nexus Repository是一个选择。&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;什么是nexus有什么用&quot;&gt;什么是Nexus，有什么用?&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;在开发当中经常要使用各种依赖库，比如Java/Android中的maven central，Python中的pypi等等。&lt;/li&gt;
  &lt;li&gt;Nexus Repository是一个仓库管理器，通过它，我们可以代理各种public的仓库，也可以构建自己的私有仓库。使得软件开发中的依赖管理、编译、发布、部署等更加方便和高效。&lt;/li&gt;
  &lt;li&gt;Nexus Repository有Pro的付费版本，但是一般我们使用它的免费OSS版本即可。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;如何使用nexus&quot;&gt;如何使用Nexus?&lt;/h2&gt;

&lt;h3 id=&quot;安装&quot;&gt;安装&lt;/h3&gt;

&lt;p&gt;这里我使用docker来安装，当然你也可以直接下载安装包安装。&lt;/p&gt;

&lt;h4 id=&quot;下载nexus的最新image&quot;&gt;下载nexus的最新image&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker pull sonatype/nexus3
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;绑定端口运行&quot;&gt;绑定端口，运行&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 8081:8081 &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; nexus sonatype/nexus3
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;本机测试&quot;&gt;本机测试&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;打开浏览器输入http://localhost:8081/
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;看到这个界面，就说明安装成功了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519154442.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;首次安装成功，会提示我们修改默认的admin密码，我们需要shell进去，拿到密码&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker &lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; nexus bash
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;根据提示，进入对应目录，查看密码
如果要stop或者start nexus的话，执行以下命令&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker stop/start nexus
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;前边我们并没有设置自启动，如果需要container随着docker启动而自启动的话，可以执行以下命令&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker update &lt;span class=&quot;nt&quot;&gt;--restart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;always nexus
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;应用&quot;&gt;应用&lt;/h3&gt;

&lt;h4 id=&quot;androidjava&quot;&gt;Android、Java&lt;/h4&gt;
&lt;p&gt;默认的repo：
&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519154847.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Android和Java会共用大部分的public maven，常见的有&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;google&lt;/li&gt;
  &lt;li&gt;maven central&lt;/li&gt;
  &lt;li&gt;jcenter&lt;/li&gt;
  &lt;li&gt;fabric&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;除此之外，Android还会用到&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;gradle plugin&lt;/li&gt;
  &lt;li&gt;gradle distribution&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以gradle distribution为例，看看如何添加这个配置&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519155152.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;这里注意，它的type是raw(proxy)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;常用的maven，以及对应的type&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519155355.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;依次创建完对应的repo之后，调整一下maven-public，把所有的maven2类型的repo都加进去&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519155440.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Android客户端配置&lt;/p&gt;

&lt;p&gt;​	以Android项目为例，看看我们需要修改哪些配置&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;首先用任意文本编辑器打开项目(不要用Android Studio或IDEA，它会自动触发gradle sync)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;修改项目build.gradle的repo，把现有的repo全部删掉或者注释掉，然后换成&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;maven { url 'http://localhost:8081/repository/maven-public/' }
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;修改项目settings.gradle，配置gradle plugin的repo，在文件顶部加入&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-groovy highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;pluginManagement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;repositories&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;maven&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'http://localhost:8081/repository/maven-public/'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;如图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519160123.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;修改文件gradle/wrapper/gradle-wrapper.properties&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519160238.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;如图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newstrong/newstrong.github.io/master/img/20200519160123.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;nodejs&quot;&gt;NodeJs&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;	创建一个npm (proxy)的repo，remote url是
	https://registry.npmjs.org/
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;	查看当前npm的registry - $ npm get registry
	设置npm mirror
	替换称你自己的地址
	$ npm set http://localhost:8081/repository/npm-registry/
	还原npm registry
	$ npm set registry https://registry.npmjs.org/
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;python&quot;&gt;Python&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;	创建一个pypi (proxy)的repo，remote url是
	https://pypi.org
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;	查看当前的配置信息，$ pip3 config list -v
	在用户目录下创建文件~/.pip/pip.conf(如果不存在的话)，加入以下配置
	
	[global]
	index-url = http://localhost:8081/repository/pypi-proxy/simple
	trusted-host = localhost
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;这里要特别注意，index-url最后的simple是必须要有的。simple之前的地址就是nexus的访问地址，请替换成自己的地址。
因为我们没有使用https，所以需要在trusted-host里边加入我们的host&lt;/p&gt;

&lt;h4 id=&quot;ios&quot;&gt;iOS&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;	创建一个cocoapods (proxy)的repo，remote url是
	https://cdn.cocoapods.org/
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;	cocoapods比较麻烦的地方在于客户端只支持https，我暂时没有做测试。解决方案是使用自签名证书来开启https。
	有兴趣的同学可以根据官方文档的说明去调调看 - CocoaPods Repositories
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;summary&quot;&gt;Summary&lt;/h3&gt;

&lt;p&gt;​		总结一下，我们了解了Nexus Repository作为一种包依赖管理器，可以解决在公司内部的依赖下载配置繁琐以及慢的问题然后讲解了如何安装配置Nexus
随后，针对不同的平台分别做了配置讲解，如Android/Java, NodeJs, Python, 和iOS
​		这里只是列举了一部分，实际上Nexus支持的还有很多，比如&lt;strong&gt;apt&lt;/strong&gt;, &lt;strong&gt;conda&lt;/strong&gt;, &lt;strong&gt;docker&lt;/strong&gt;, &lt;strong&gt;go&lt;/strong&gt;, &lt;strong&gt;nuget&lt;/strong&gt;, &lt;strong&gt;rubygems&lt;/strong&gt;, &lt;strong&gt;yum&lt;/strong&gt; 等等。如果有相应的需要，可以找对应的资料进行配置使用。&lt;/p&gt;
</description>
        <pubDate>Thu, 14 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/14/%E6%8F%90%E5%8D%87%E5%9B%A2%E9%98%9F%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87-Nexus-Repository/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/14/%E6%8F%90%E5%8D%87%E5%9B%A2%E9%98%9F%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87-Nexus-Repository/</guid>
        
        <category>Nexus</category>
        
        <category>Maven</category>
        
        
      </item>
    
      <item>
        <title>使用Kotlin创建自定义View</title>
        <description>&lt;h1 id=&quot;使用kotlin创建自定义view&quot;&gt;使用Kotlin创建自定义View&lt;/h1&gt;

&lt;p&gt;通过Android Studio点击 New-Kotlin Class/Files 创建的一个类，指定它实现一个View，例如：FrameLayout。此时IDE会提示你需要实现它的构造方法，Alert+Enter 即可，完成后如下：&lt;/p&gt;

&lt;div class=&quot;language-kotlin highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FrameLayout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;此时只实现了View的一个构造方法，在代码中初始化并使用并没有问题，但是不能再XML中引用，因为自定义View需要实现类似以下的构造方法：&lt;/p&gt;

&lt;div class=&quot;language-kotlin highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FrameLayout&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@NonNull&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@NonNull&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@Nullable&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AttributeSet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@NonNull&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@Nullable&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AttributeSet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defStyleAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defStyleAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@RequiresApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;VERSION_CODES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;LOLLIPOP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@NonNull&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@Nullable&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AttributeSet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defStyleAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defStyleRes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defStyleAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defStyleRes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;还好Kotlin有constructor关键字，用来在类名后指定主构造方法，或者单独在类中，指定次级构造方法。&lt;/p&gt;

&lt;div class=&quot;language-kotlin highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FrameLayout&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AttributeSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AttributeSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;defStyleAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;上面的写法其实不是很好看，不太符合Kotlin极简思想，请参考更简单的实现：&lt;/p&gt;

&lt;div class=&quot;language-kotlin highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomViewTest&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@JvmOverloads&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;AttributeSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;defStyleAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FrameLayout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;defStyleAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;是不是够极简，但是在Java调用这个类的构造方法时候，因为Java没有默认参数的这种写法，需要全部指定所有的参数。&lt;/p&gt;

&lt;h2 id=&quot;结论全局kotlin使用最后一种极简的写法java-kotlin混编特别是需要java初始化kotlin自定义view则使用constructor写法&quot;&gt;结论：全局Kotlin，使用最后一种极简的写法，Java-Kotlin混编，特别是需要Java初始化Kotlin自定义View，则使用Constructor写法。&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;原文：&lt;/p&gt;

&lt;p&gt;​	&lt;a href=&quot;https://antonioleiva.com/custom-views-android-kotlin/&quot;&gt;https://antonioleiva.com/custom-views-android-kotlin/&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Thu, 14 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/14/%E4%BD%BF%E7%94%A8Kotlin%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89View/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/14/%E4%BD%BF%E7%94%A8Kotlin%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89View/</guid>
        
        <category>Android</category>
        
        <category>Kotlin</category>
        
        <category>自定义View</category>
        
        
      </item>
    
      <item>
        <title>iOS DeepLink 调研与实践</title>
        <description>&lt;h1 id=&quot;ios-deeplink-调研与实践&quot;&gt;iOS DeepLink 调研与实践&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;原文链接：&lt;a href=&quot;https://juejin.im/post/5d5cf482f265da03e05b170f&quot;&gt;iOS DeepLink调研与实践&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;什么是deeplink&quot;&gt;什么是DeepLink&lt;/h2&gt;

&lt;p&gt;使用统一资源标识符（URI）链接到一个App中特定的位置，而不是简单地打开App。 用户未安装App的情况下，一样可以在用户安装App后重新还原用户之前预览的页面。常见的有以下2种实现方式。&lt;/p&gt;

&lt;h3 id=&quot;url-scheme-ios8以上可用&quot;&gt;URL Scheme (iOS8以上可用)&lt;/h3&gt;

&lt;p&gt;我们通常只能使用scheme。这种方式需要通过safari中唤醒APP，但是这种方式需要提前判断系统中是否安装了能够响应此scheme的app，并且这种方式在微信等中是被禁用了的。如果没有安装app则该链接变成了无效链接。&lt;/p&gt;

&lt;h3 id=&quot;1-如何支持-url-scheme&quot;&gt;1. 如何支持 URL Scheme&lt;/h3&gt;

&lt;p&gt;设置info.plist&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2019/8/21/16cb21a4db991839?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;假如我&lt;code class=&quot;highlighter-rouge&quot;&gt;URL Schemes&lt;/code&gt;填写的是&lt;code class=&quot;highlighter-rouge&quot;&gt;rrddl&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;Identifier&lt;/code&gt;填写的是 &lt;code class=&quot;highlighter-rouge&quot;&gt;renrendai.com&lt;/code&gt;。那么我就可以在safari地址栏中输入&lt;code class=&quot;highlighter-rouge&quot;&gt;rrddl://renrendai.com&lt;/code&gt;来打开我们的app。&lt;/p&gt;

&lt;h4 id=&quot;2-原理&quot;&gt;2. 原理&lt;/h4&gt;

&lt;p&gt;iPhone在安装应用时可以检测到&lt;code class=&quot;highlighter-rouge&quot;&gt;info.plist&lt;/code&gt;文件中是否有&lt;code class=&quot;highlighter-rouge&quot;&gt;CFBundleURLTypes&lt;/code&gt;，如果存在则将相应的&lt;code class=&quot;highlighter-rouge&quot;&gt;schemes&lt;/code&gt;注册到系统中，如有其它app通过&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;UIApplication.shared.openURL(URL(string: &quot;rrddl://renrendai.com&quot;)!)
复制代码
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;或者safari打开时，系统会查找已注册的Schemes来启动对应的app。&lt;/p&gt;

&lt;h3 id=&quot;3-如何限制url打开app&quot;&gt;3. 如何限制url打开app&lt;/h3&gt;

&lt;p&gt;如果不想被其它应用无端调起可以在&lt;code class=&quot;highlighter-rouge&quot;&gt;AppDelegate&lt;/code&gt;中&lt;code class=&quot;highlighter-rouge&quot;&gt;open url&lt;/code&gt;方法中通过host和path等条件加以限制。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -&amp;gt; Bool {
    let components = URLComponents(string: url.absoluteString)
    let pathPool = [&quot;dl&quot;, &quot;h5&quot;, &quot;tab&quot;]
    if pathPool.contains(components?.path ?? &quot;&quot;) {
        JumpManager.handel(url) //处理url跳转
        return true
    }
    return false
}
复制代码
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;缺点&quot;&gt;缺点&lt;/h3&gt;

&lt;p&gt;1.不能检测用户是否安装了app，对没有安装app的用户没有引导作用。&lt;/p&gt;

&lt;p&gt;2.没有唯一的应用标识，无法保证用户不会安装注册相同URL方案的第三方app。&lt;/p&gt;

&lt;h2 id=&quot;universal-links&quot;&gt;Universal Links&lt;/h2&gt;

&lt;p&gt;Universal Links就是一个通用链接，iOS9以上的用户，可以通过点击这个链接无缝的重定向到一个app应用，而不需要通过safari打开跳转。如果用户没有安装这个app，则会在safari中打开这个链接指向的网页。(现已被微信封禁)&lt;/p&gt;

&lt;h3 id=&quot;一universal-link的基本运作流程&quot;&gt;一、Universal Link的基本运作流程&lt;/h3&gt;

&lt;p&gt;1 app第一次安装或者版本更新后第一次启动，app向工程里配置的域名发起Get请求拉取&lt;code class=&quot;highlighter-rouge&quot;&gt;apple-app-association&lt;/code&gt;这个Json文件。&lt;/p&gt;

&lt;p&gt;2 app将&lt;code class=&quot;highlighter-rouge&quot;&gt;apple-app-association&lt;/code&gt;注册给系统。&lt;/p&gt;

&lt;p&gt;3 由iPhone上的任意&lt;code class=&quot;highlighter-rouge&quot;&gt;webView&lt;/code&gt;发起跳转的url(在webKit做了处理)，如果是&lt;code class=&quot;highlighter-rouge&quot;&gt;apple-app-association&lt;/code&gt;注册的通用链接则打开App，触发&lt;code class=&quot;highlighter-rouge&quot;&gt;Universal Link delegate&lt;/code&gt;；没命中，&lt;code class=&quot;highlighter-rouge&quot;&gt;webView&lt;/code&gt;继续跳转url。&lt;/p&gt;

&lt;h3 id=&quot;二如何让app支持universal-links&quot;&gt;二、如何让app支持Universal Links&lt;/h3&gt;

&lt;h4 id=&quot;1创建一个名字叫做apple-app-site-association包含固定格式的json文件&quot;&gt;1.创建一个名字叫做&lt;code class=&quot;highlighter-rouge&quot;&gt;apple-app-site-association&lt;/code&gt;，包含固定格式的json文件&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;{
&quot;applinks&quot;: {
        &quot;apps&quot;: [],
        &quot;details&quot;: [
            {
                &quot;appID&quot;: &quot;teamID.bundleId&quot;,
                &quot;paths&quot;: [&quot;/deaplink&quot;,&quot;/wwdc/news/&quot;,&quot;*&quot;]
            }
        ]
    }
}
复制代码
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;注意&quot;&gt;注意:&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;appID&lt;/code&gt; 的格式为&lt;code class=&quot;highlighter-rouge&quot;&gt;teamID.bundleId&lt;/code&gt;形式。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;apple-app-site-association&lt;/code&gt;不能带后缀名&lt;/p&gt;

&lt;h4 id=&quot;2-apple-app-site-association放置位置&quot;&gt;2. apple-app-site-association放置位置&lt;/h4&gt;

&lt;p&gt;1.文件配置完成之后，将其上传到你的服务器根目录或者&lt;code class=&quot;highlighter-rouge&quot;&gt;.well-known&lt;/code&gt;这个子目录下(iOS 9.3才可以)&lt;/p&gt;

&lt;p&gt;2.确保使用&lt;code class=&quot;highlighter-rouge&quot;&gt;https://yourdomain.com/apple-app-site-association&lt;/code&gt; 这个链接可以访问到，&lt;code class=&quot;highlighter-rouge&quot;&gt;yourdomain.com&lt;/code&gt;为你的服务器域名。&lt;/p&gt;

&lt;h4 id=&quot;3-在哪里获取teamid&quot;&gt;3. 在哪里获取TeamID?&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2019/8/21/16cb295a4dc6283d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;4-paths规则&quot;&gt;4. paths规则&lt;/h4&gt;

&lt;p&gt;1.使用&lt;code class=&quot;highlighter-rouge&quot;&gt;*&lt;/code&gt;配置，则整个网站都可以使用。&lt;/p&gt;

&lt;p&gt;2.使用特定的URL，例如&lt;code class=&quot;highlighter-rouge&quot;&gt;/user/home&lt;/code&gt;来指定某一个特殊的链接。&lt;/p&gt;

&lt;p&gt;3.在特定URL后面添加&lt;code class=&quot;highlighter-rouge&quot;&gt;*&lt;/code&gt;，例如&lt;code class=&quot;highlighter-rouge&quot;&gt;/user/*&lt;/code&gt;, 来指定网站的某一部分。&lt;/p&gt;

&lt;p&gt;4.除了使用&lt;code class=&quot;highlighter-rouge&quot;&gt;*&lt;/code&gt;来匹配任意字符，你也可以使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;?&lt;/code&gt;来匹配单个字符，你可以在路径当中结合这两个字符使用，例如 &lt;code class=&quot;highlighter-rouge&quot;&gt;/user/*/201?&lt;/code&gt;。&lt;/p&gt;

&lt;h4 id=&quot;5-app-ids-配置&quot;&gt;5. app IDs 配置&lt;/h4&gt;

&lt;p&gt;进去登录苹果开发者中心，在&lt;code class=&quot;highlighter-rouge&quot;&gt;identifiers&lt;/code&gt;下&lt;code class=&quot;highlighter-rouge&quot;&gt;App IDs&lt;/code&gt; 打开&lt;code class=&quot;highlighter-rouge&quot;&gt;Associated Domains&lt;/code&gt;开关。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2019/8/21/16cb28d096a5b9ac?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;6-项目配置&quot;&gt;6. 项目配置&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2019/8/21/16cb290797352f84?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;domains&lt;/code&gt;可以添加多个，前缀必须为&lt;code class=&quot;highlighter-rouge&quot;&gt;applinks:&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;applinks:&lt;/code&gt;后为你的服务器的域名。值得注意的是要想触发Universal Link拦截必须跨域，假如Universal Link配置的是 &lt;code class=&quot;highlighter-rouge&quot;&gt;wx.renrendai.com&lt;/code&gt; 这个域名，并且对这个域名下比如&lt;code class=&quot;highlighter-rouge&quot;&gt;/point /home /user&lt;/code&gt; 等&lt;code class=&quot;highlighter-rouge&quot;&gt;urlPath&lt;/code&gt;进行了识别，也就是说只有当你访问 &lt;code class=&quot;highlighter-rouge&quot;&gt;https://wx.renrendai.com/point/xxx&lt;/code&gt; 才会触发Universal Link拦截，而正经的Url &lt;code class=&quot;highlighter-rouge&quot;&gt;https//www.renrendai.com/point/xxx&lt;/code&gt; 是不会触发Universal Link的拦截。&lt;/p&gt;

&lt;h4 id=&quot;7-项目中需要做的处理&quot;&gt;7. 项目中需要做的处理&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;func application(_ application: UIApplication, continue userActivity: NSUserActivity, restorationHandler: @escaping ([UIUserActivityRestoring]?) -&amp;gt; Void) -&amp;gt; Bool {
    if userActivity.activityType == &quot;NSUserActivityTypeBrowsingWeb&quot; {
        let url = userActivity.webpageURL
        JumpManager.handel(url) //处理url跳转
        return true
    }
    return false
}
复制代码
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;三验证universal-links配置是否成功&quot;&gt;三、验证Universal Links配置是否成功&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;快捷验证，在备忘录中输入&lt;code class=&quot;highlighter-rouge&quot;&gt;https://yourdomain.com/apple-app-site-association&lt;/code&gt; 长按这个链接，出现在XXXapp打开即为成功。(在信息里同理)&lt;/li&gt;
  &lt;li&gt;使用 &lt;a href=&quot;https://search.developer.apple.com/appsearch-validation-tool/&quot;&gt;苹果官方验证&lt;/a&gt;验证文件是否能被苹果请求到。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;短链服务器端的相关实现&quot;&gt;&lt;a href=&quot;https://juejin.im/post/5d2d33885188253a2e1b8626&quot;&gt;短链服务器端的相关实现&lt;/a&gt;&lt;/h2&gt;

&lt;h2 id=&quot;参考资料&quot;&gt;参考资料&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/library/content/documentation/General/Conceptual/AppSearch/UniversalLinks.html&quot;&gt;苹果官方文档&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.cocoachina.com/articles/20463&quot;&gt;好的文章&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;遇到问题&quot;&gt;遇到问题:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;官网说&lt;code class=&quot;highlighter-rouge&quot;&gt;apple-app-site-association&lt;/code&gt;放置在服务器根目录或者&lt;code class=&quot;highlighter-rouge&quot;&gt;.well-known&lt;/code&gt;这个子目录下即可,在真机模拟是发现在&lt;code class=&quot;highlighter-rouge&quot;&gt;iOS9.3-iOS12&lt;/code&gt; 请求的地址是在&lt;code class=&quot;highlighter-rouge&quot;&gt;.well-known&lt;/code&gt;下而非根目录下&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2019/8/21/16cb2a499c972a29?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;广告时间&quot;&gt;广告时间&lt;/h2&gt;

&lt;p&gt;最后惯例，欢迎大家star我们的&lt;a href=&quot;https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Frrd-fe%2Fblog&quot;&gt;人人贷大前端团队博客&lt;/a&gt;，所有的文章还会同步更新到&lt;a href=&quot;https://www.zhihu.com/people/ren-ren-dai-da-qian-duan-ji-zhu-zhong-xin/activities&quot;&gt;知乎专栏&lt;/a&gt; 和 &lt;a href=&quot;https://juejin.im/user/5cb690b851882532941dd5d9&quot;&gt;掘金账号&lt;/a&gt;，我们每周都会分享几篇高质量的大前端技术文章。如果你喜欢这篇文章，希望能动动小手给个赞。&lt;/p&gt;
</description>
        <pubDate>Thu, 14 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/14/iOS-DeepLink-%E8%B0%83%E7%A0%94%E4%B8%8E%E5%AE%9E%E8%B7%B5/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/14/iOS-DeepLink-%E8%B0%83%E7%A0%94%E4%B8%8E%E5%AE%9E%E8%B7%B5/</guid>
        
        <category>iOS</category>
        
        <category>DeepLink</category>
        
        
      </item>
    
      <item>
        <title>Kotlin 操作符：run、with、let、also、apply 的差异与选择</title>
        <description>&lt;h1 id=&quot;kotlin-操作符runwithletalsoapply-的差异与选择&quot;&gt;Kotlin 操作符：run、with、let、also、apply 的差异与选择&lt;/h1&gt;

&lt;p&gt;原文：&lt;a href=&quot;https://juejin.im/post/5a1be4cc51882512a86108f8&quot;&gt;Kotlin 操作符：run、with、let、also、apply 的差异与选择&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;通过参考原文，通过mermaid画出流程图，没有任何新东西。/笑脸&lt;/p&gt;

&lt;div class=&quot;mermaid&quot;&gt;
graph TD
  A(选择标准函数) --&amp;gt; B{&quot;需要返回自身(this)&quot; }
  B --&amp;gt;|NO| C{&quot;需要扩展函数?(空检查,链式调用)&quot;}
  C --&amp;gt;|NO| D{&quot;传递this作为参数&quot;}
  D --&amp;gt;|NO| E(&quot;使用run()&quot;)
  D --&amp;gt;|YES| F(&quot;使用with(T)&quot;)
  C --&amp;gt;|YES| G{&quot;传递it/this作为参数&quot;}
  G --&amp;gt;|传递this| H(&quot;使用T.run()&quot;)
  G --&amp;gt;|传递it| I(&quot;使用T.let()&quot;)

  B --&amp;gt;|YES| J{&quot;传递it/this作为参数&quot;}
  J--&amp;gt;|传递this| K(&quot;使用T.apply()&quot;)
  J--&amp;gt;|传递it| L(&quot;使用T.also()&quot;)
		
&lt;/div&gt;
</description>
        <pubDate>Thu, 14 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/14/Kotlin-%E6%93%8D%E4%BD%9C%E7%AC%A6-run-with-let-also-apply-%E7%9A%84%E5%B7%AE%E5%BC%82%E4%B8%8E%E9%80%89%E6%8B%A9/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/14/Kotlin-%E6%93%8D%E4%BD%9C%E7%AC%A6-run-with-let-also-apply-%E7%9A%84%E5%B7%AE%E5%BC%82%E4%B8%8E%E9%80%89%E6%8B%A9/</guid>
        
        <category>Android</category>
        
        <category>Kotlin</category>
        
        <category>Mermaid</category>
        
        
      </item>
    
      <item>
        <title>Github Page中通过Mermaid画流程图</title>
        <description>&lt;h1 id=&quot;在github-pages-中使用mermaid-画图&quot;&gt;在GitHub Pages 中使用Mermaid 画图&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;传统画流程图通常使用 &lt;strong&gt;Visio Studio&lt;/strong&gt;，使用比较复杂，毕竟要安装；本文简单介绍在GitHub Pages 中通过 mermaid 库，来绘制流程图、甘特图的前置步骤。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;原理&quot;&gt;原理&lt;/h2&gt;

&lt;p&gt;mermaid解析特定格式，转化为svg，显示到界面上&lt;/p&gt;

&lt;h2 id=&quot;步骤&quot;&gt;步骤&lt;/h2&gt;

&lt;p&gt;简单添加以下内容到你的markdown中，即可生产出如下图的内容：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mermaid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;startOnLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;mermaid&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;graph&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/div&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;效果&quot;&gt;效果&lt;/h2&gt;

&lt;div class=&quot;mermaid&quot;&gt;
graph TD;
    A--&amp;gt;B;
    A--&amp;gt;C;
    B--&amp;gt;D;
    C--&amp;gt;D;
&lt;/div&gt;

&lt;h2 id=&quot;参考链接&quot;&gt;参考链接&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Mermaid Doc:&lt;a href=&quot;https://mermaidjs.github.io/#/&quot;&gt;https://mermaidjs.github.io/#/&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Mermaid Live Editor:&lt;a href=&quot;https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgQVtDaHJpc3RtYXNdIC0tPnxHZXQgbW9uZXl8IEIoR28gc2hvcHBpbmcpXG4gIEIgLS0-IEN7TGV0IG1lIHRoaW5rfVxuICBDIC0tPnxPbmV8IERbTGFwdG9wXVxuICBDIC0tPnxUd298IEVbaVBob25lXVxuICBDIC0tPnxUaHJlZXwgRltmYTpmYS1jYXIgQ2FyXVxuXHRcdCIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19&quot;&gt;https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgQVtDaHJpc3RtYXNdIC0tPnxHZXQgbW9uZXl8IEIoR28gc2hvcHBpbmcpXG4gIEIgLS0-IEN7TGV0IG1lIHRoaW5rfVxuICBDIC0tPnxPbmV8IERbTGFwdG9wXVxuICBDIC0tPnxUd298IEVbaVBob25lXVxuICBDIC0tPnxUaHJlZXwgRltmYTpmYS1jYXIgQ2FyXVxuXHRcdCIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Mermaid 使用教程:&lt;a href=&quot;https://www.jianshu.com/p/e3901c57b596&quot;&gt;https://www.jianshu.com/p/e3901c57b596&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sat, 09 May 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/05/09/github-mermaid-test/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/09/github-mermaid-test/</guid>
        
        <category>Jekyll</category>
        
        <category>Github Page</category>
        
        
      </item>
    
  </channel>
</rss>
